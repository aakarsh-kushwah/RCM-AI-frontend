/* --- 1. Global Styles & Variables --- */
:root {
    --color-gray-50: #fafafa;
    --color-gray-100: #f4f4f5;
    --color-gray-200: #e4e4e7;
    --color-gray-300: #d4d4d8;
    --color-gray-400: #a1a1aa;
    --color-gray-500: #71717a;
    --color-gray-600: #52525b;
    --color-gray-700: #3f3f46;
    --color-gray-800: #27272a;
    --color-gray-900: #18181b;
    --color-gray-950: #09090b;

    --color-blue-100: #dbeafe;
    --color-blue-300: #93c5fd;
    --color-blue-400: #60a5fa;
    --color-blue-500: #3b82f6;
    --color-blue-600: #2563eb;
    --color-blue-700: #1d4ed8;
    --color-blue-900-light: rgba(30, 58, 138, 0.5); 
    
    --color-red-500: #ef4444;
    --color-red-600: #dc2626;
    --color-red-700: #b91c1c;

    --color-orange-500: #f97316;
    --color-green-500: #22c55e;
    --color-yellow-500: #eab308;
    --color-white: #ffffff;
    --color-black: #000000;

    --rcm-blue: #0d47a1;
    --rcm-orange: #f57c00;
}

body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background-color: var(--color-gray-50);
}

.dark {
    --color-gray-50: #18181b; 
    --color-gray-100: #27272a;
    --color-gray-200: #3f3f46;
    --color-gray-700: #e4e4e7;
    --color-gray-800: #f4f4f5;
    --color-gray-900: #fafafa;
    background-color: var(--color-gray-900);
}

/* --- 2. Keyframe Animations (Modal) --- */
@keyframes modal-bg-fade-in { from { opacity: 0; } to { opacity: 1; } }
@keyframes modal-scale-in {
    from { opacity: 0; transform: scale(0.95) translateY(20px); }
    to { opacity: 1; transform: scale(1) translateY(0); }
}

/* --- 3. Logged Out View --- */
.logged-out-container {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    min-height: 100vh; background-color: var(--color-gray-100); padding: 2rem; text-align: center;
}
.dark .logged-out-container { background-color: var(--color-gray-900); }
.logged-out-title { font-size: 2.25rem; font-weight: 700; color: var(--color-red-500); margin-bottom: 1rem; }
.logged-out-subtitle { font-size: 1.25rem; color: var(--color-gray-700); }
.dark .logged-out-subtitle { color: var(--color-gray-300); }
.logged-out-note { font-size: 0.875rem; color: var(--color-gray-500); margin-top: 2rem; }

/* --- 4. Main Dashboard Layout --- */
.dashboard-container { display: flex; min-height: 100vh; }
.main-content { flex-grow: 1; padding: 1rem; transition: all 0.3s ease; }

/* --- ⭐️ UPDATE: Main Header --- */
.main-header {
    display: flex; align-items: center; justify-content: space-between;
    padding-bottom: 1.5rem; 
    margin-bottom: 1rem; 
}
.main-header-left { display: flex; align-items: center; gap: 1rem; }
.header-logo {
    width: 44px; 
    height: 44px;
    flex-shrink: 0;
}
.header-logo img {
    width: 100%;
    height: 100%;
    border-radius: 0.375rem; 
}
.header-title-wrapper { line-height: 1.3; }
.main-header-title { 
    font-size: 1.875rem; font-weight: 800; 
    color: var(--color-gray-900); 
    margin: 0; 
}
.dark .main-header-title { color: var(--color-white); }
.main-header-tagline {
    margin: 0; font-size: 0.9rem;
    font-weight: 500; color: var(--color-gray-500);
}
.dark .main-header-tagline { color: var(--color-gray-400); }
.main-header-right { width: 2rem; height: 2rem; }
/* --- End Header Update --- */

/* --- 5. ⭐️ UPDATE: Sidebar Styles --- */
.sidebar-overlay { position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.4); z-index: 40; }
.sidebar {
    position: fixed; top: 0; left: 0; height: 100vh; width: 16rem; 
    background-color: var(--color-gray-800); color: var(--color-white);
    display: flex; flex-direction: column; 
    box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    z-index: 50; transition: transform 0.3s ease-in-out; transform: translateX(-100%);
}
.dark .sidebar { background-color: var(--color-gray-900); }
.sidebar-open { transform: translateX(0); }
.sidebar-content { 
    padding: 1.5rem; 
    flex-grow: 1; 
    overflow-y: auto; 
}
.sidebar-header { 
    display: flex; justify-content: space-between; align-items: center; 
    margin-bottom: 1.5rem; 
}
.sidebar-logo { font-size: 1.875rem; font-weight: 800; color: var(--color-blue-400); letter-spacing: 0.05em; margin: 0; }
.sidebar-close-btn { color: var(--color-gray-300); padding: 0.5rem; border-radius: 9999px; background: none; border: none; cursor: pointer; }
.sidebar-close-btn:hover { color: var(--color-white); }

.user-profile {
    padding: 1rem;
    background: rgba(59, 130, 246, 0.1); 
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: 0.75rem;
    margin-bottom: 1.5rem; 
    text-align: center;
}
.dark .user-profile {
    background: rgba(96, 165, 250, 0.1);
    border-color: rgba(96, 165, 250, 0.2);
}

.profile-pic-container {
    position: relative;
    width: 64px; 
    height: 64px;
    cursor: pointer;
    border-radius: 50%;
    margin: 0 auto 0.75rem auto; 
}
.user-profile-pic {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid var(--color-blue-500);
}
.profile-pic-overlay {
    position: absolute;
    inset: 0;
    background-color: rgba(0,0,0,0.6);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.2s ease;
}
.profile-pic-container:hover .profile-pic-overlay {
    opacity: 1;
}

.user-profile-details {
    min-width: 0; 
}
.user-profile-name {
    font-size: 1.1rem; 
    font-weight: 600;
    color: var(--color-white);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    margin: 0 0 0.25rem 0;
}
.user-profile-email { 
    font-size: 0.85rem;
    color: var(--color-gray-300); 
    margin: 0;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.user-profile-id {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--color-blue-300); 
    margin: 0.25rem 0 0 0;
    font-family: monospace; 
}

.sidebar-footer {
    padding: 1rem;
    border-top: 1px solid rgba(55, 65, 81, 0.5); 
    flex-shrink: 0; 
}
.dark .sidebar-footer {
    border-color: var(--color-gray-700);
}
.logout-button {
    width: 100%; 
    padding: 0.75rem; 
    background-color: var(--color-red-600);
    color: var(--color-white); font-weight: 700; border-radius: 0.75rem;
    transition: all 0.2s ease; border: none; cursor: pointer;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    margin-top: 0; 
}
.logout-button:hover { background-color: var(--color-red-700); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
.logout-button:focus { outline: 2px solid transparent; outline-offset: 2px; box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.5); }
/* --- End Sidebar Update --- */


/* --- 6. ⭐️ UPDATE: 3D Metal Card --- */
.dashboard-grid { 
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 2rem; 
    margin-top: 1.5rem; 
}
.ai-assistant-card-wrapper {
    padding: 4px; 
    border-radius: 1.75rem; 
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1); 
    transform: scale(1); 
    transition: all 0.3s ease; 
    cursor: pointer;
    background: linear-gradient(145deg, var(--color-gray-400), var(--color-gray-900), var(--color-gray-500));
}
.dark .ai-assistant-card-wrapper { 
    background: linear-gradient(145deg, var(--color-gray-500), var(--color-gray-700), var(--color-gray-400)); 
}
.ai-assistant-card-wrapper:hover { 
    box-shadow: 0 25px 40px -10px rgba(0,0,0,0.3); 
    transform: scale(1.03); 
}
.ai-assistant-card-content {background: linear-gradient(160deg, #727282, #000000);
    padding: 1.5rem; 
    border-radius: 1.5rem; 
    height: 81%;
    display: flex; flex-direction: column; justify-content: space-between;
    position: relative; overflow: hidden; z-index: 1;
    box-shadow: inset 0 4px 6px rgba(0,0,0,0.4), 
                inset 0 -2px 3px rgba(255,255,255,0.1);
}
.dark .ai-assistant-card-content { 
    background: linear-gradient(160deg, var(--color-gray-700), var(--color-gray-900)); 
    box-shadow: inset 0 4px 6px rgba(0,0,0,0.5), 
                inset 0 -2px 3px rgba(255,255,255,0.1);
}
.ai-assistant-card-content::before {
    content: ''; position: absolute; top: 0; left: -180px; width: 120px; height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.12), 
        transparent
    );
    transform: skewX(-25deg); 
    transition: left 0.8s cubic-bezier(0.23, 1, 0.32, 1); 
    z-index: 2; 
}
.ai-assistant-card-wrapper:hover .ai-assistant-card-content::before { 
    left: calc(100% + 180px); 
    transition-duration: 0.7s; 
}
.ai-assistant-card-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem; position: relative; z-index: 3; }
.ai-assistant-card-badge { font-size: 0.875rem; font-weight: 600; color: rgba(255, 255, 255, 0.7); letter-spacing: 0.1em; }
.ai-assistant-card-title { font-size: 2.25rem; font-weight: 800; color: var(--color-white); margin-bottom: 0.5rem; margin-top: 0; position: relative; z-index: 3; }
.ai-assistant-card-description { font-size: 0.875rem; font-weight: 300; color: rgba(209, 213, 219, 0.8); margin-bottom: 1.5rem; position: relative; z-index: 3; }
.ai-assistant-card-footer { width: 100%; display: flex; justify-content: flex-end; position: relative; z-index: 3; }
.ai-assistant-card-cta {
    font-size: 1.125rem; font-weight: 700; background-color: var(--color-white);
    color: var(--color-gray-900); padding: 0.25rem 1rem; border-radius: 9999px;
    display: inline-block; transition: all 0.2s ease;
}
.ai-assistant-card-cta:hover { background-color: #dbeafe; }
/* --- End 3D Card --- */

/* Standard Dashboard Cards (Unchanged) */
.dashboard-card-wrapper { height: 100%; }
.dashboard-card-content {
    padding: 1.5rem; border-radius: 1rem; 
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    transition: all 0.3s ease; background-color: var(--color-white); color: var(--color-gray-900);
    display: flex; flex-direction: column; height: 100%;
    border: 1px solid transparent; cursor: pointer; box-sizing: border-box; 
}
.dark .dashboard-card-content { background-color: var(--color-gray-800); color: var(--color-white); }
.dashboard-card-wrapper:hover .dashboard-card-content {
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    transform: scale(1.02); border-color: rgba(59, 130, 246, 0.3); 
}
.dark .dashboard-card-wrapper:hover .dashboard-card-content { border-color: rgba(96, 165, 250, 0.3); }
.dashboard-card-wrapper:active .dashboard-card-content { transform: scale(0.98); }
.dashboard-card-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 1rem; }
.ai-ready-badge {
    display: flex; align-items: center; font-size: 0.75rem; font-weight: 600;
    color: var(--color-blue-600); background-color: var(--color-blue-100);
    padding: 0.125rem 0.5rem; border-radius: 9999px;
}
.dark .ai-ready-badge { color: var(--color-blue-400); background-color: var(--color-blue-900-light); }
.dashboard-card-title { font-size: 1.25rem; font-weight: 700; margin-bottom: 0.5rem; margin-top: 0; }
.dashboard-card-description { font-size: 0.875rem; font-weight: 500; flex-grow: 1; margin-bottom: 1rem; opacity: 0.8; }
.dashboard-card-cta { font-weight: 600; margin-top: auto; color: var(--color-blue-500); transition: color 0.15s ease; }
.dark .dashboard-card-cta { color: var(--color-blue-400); }
.dashboard-card-wrapper:hover .dashboard-card-cta { color: var(--color-blue-600); }


/* --- 7. ❌ VIDEO STYLES (HATA DIYE GAYE) --- */
/* (Saare video styles yahan se hata diye gaye hain) */


/* --- 8. ⭐️ UPDATE: Icon Helpers & Mobile Toggle --- */
.icon-blue { width: 1.75rem; height: 1.75rem; color: var(--color-blue-600); }
.dark .icon-blue { color: var(--color-blue-400); }
.icon-xs { width: 1.5rem; height: 1.5rem; }
.icon-xs-blue { width: 1.25rem; height: 1.25rem; margin-right: 0.5rem; }
.icon-large-yellow { width: 2.5rem; height: 2.5rem; margin-bottom: 1rem; color: var(--color-yellow-500); }
.icon-xxs { width: 0.75rem; height: 0.75rem; margin-right: 0.25rem; }
.icon-medium-white { width: 2rem; height: 2rem; color: var(--color-white); }
.icon-medium-orange { width: 2rem; height: 2rem; color: var(--color-orange-500); }
.icon-medium-green { width: 2rem; height: 2rem; color: var(--color-green-500); }
.icon-small { width: 1.5rem; height: 1.5rem; }

.mobile-menu-btn {
    background: var(--color-white);
    border: 1px solid var(--color-gray-200);
    border-radius: 0.5rem;
    padding: 0.5rem;
    color: var(--color-gray-600);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex; 
    align-items: center;
    justify-content: center;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}
.mobile-menu-btn:hover {
    background: var(--color-gray-50);
    color: var(--rcm-blue);
    box-shadow: 0 2px 4px rgba(0,0,0,0.08);
}
.dark .mobile-menu-btn {
    background: var(--color-gray-800);
    border-color: var(--color-gray-700);
    color: var(--color-gray-300);
}
.dark .mobile-menu-btn:hover {
    background: var(--color-gray-700);
    color: var(--rcm-orange);
}
/* --- End Icon/Toggle Update --- */

/* --- ⭐️ NAYA: Profile Pic Modal --- */
.profile-modal-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.7);
    z-index: 2000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    animation: modal-bg-fade-in 0.3s ease forwards;
}
.profile-modal-content {
    background: var(--color-white);
    border-radius: 0.75rem;
    width: 100%;
    max-width: 400px;
    padding: 1.5rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    animation: modal-scale-in 0.3s ease forwards;
}
.dark .profile-modal-content {
    background: var(--color-gray-800);
}
.profile-modal-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-gray-900);
    margin-top: 0;
    margin-bottom: 1.5rem;
    text-align: center;
}
.dark .profile-modal-title {
    color: var(--color-white);
}
.profile-modal-image-wrapper {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    overflow: hidden;
    margin: 0 auto 1.5rem auto;
    border: 4px solid var(--color-gray-200);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.dark .profile-modal-image-wrapper {
    border-color: var(--color-gray-700);
}
.profile-modal-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.profile-modal-actions {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}
.profile-modal-btn {
    width: 100%;
    padding: 0.75rem;
    border: none;
    border-radius: 0.5rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}
.profile-modal-btn.primary {
    background: var(--rcm-blue);
    color: var(--color-white);
}
.profile-modal-btn.primary:hover {
    background: #0a367e;
}
.profile-modal-btn.secondary {
    background: var(--color-gray-200);
    color: var(--color-gray-800);
}
.profile-modal-btn.secondary:hover {
    background: var(--color-gray-300);
}
.dark .profile-modal-btn.secondary {
    background: var(--color-gray-700);
    color: var(--color-white);
}
.dark .profile-modal-btn.secondary:hover {
    background: var(--color-gray-600);
}
.profile-modal-btn.tertiary {
    background: none;
    color: var(--color-gray-600);
}
.dark .profile-modal-btn.tertiary {
    color: var(--color-gray-400);
}
.profile-modal-btn.tertiary:hover {
    background: var(--color-gray-100);
}
.dark .profile-modal-btn.tertiary:hover {
    background: var(--color-gray-700);
}
.profile-modal-btn:disabled {
    background: var(--color-gray-300);
    color: var(--color-gray-500);
    cursor: not-allowed;
}
.dark .profile-modal-btn:disabled {
    background: var(--color-gray-600);
    color: var(--color-gray-400);
}

/* --- 9. Responsive Layout --- */
@media (min-width: 768px) {
    .main-content { padding: 2rem; }
    .mobile-menu-btn { display: none; }
    .sidebar-overlay { display: none; }
    .sidebar { position: sticky; transform: translateX(0); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
    .sidebar-close-btn { display: none; }
    .dashboard-grid { grid-template-columns: repeat(2, 1fr); margin-top: 0; } 
    .ai-assistant-card-wrapper { grid-column: span 2 / span 2; }
    #leaders-card { grid-column: span 1 / span 1; }
    #products-card { grid-column: span 2 / span 2; }
}

@media (min-width: 1024px) {
    .dashboard-grid { grid-template-columns: repeat(3, 1fr); }
    .ai-assistant-card-wrapper { grid-column: span 2 / span 2; }
    #leaders-card { grid-column: span 1 / span 1; }
    #products-card { grid-column: span 3 / span 3; }
}

@media (max-width: 767px) {
    .main-content { padding-left: 0.5rem; padding-right: 0.5rem; }
    .main-header { margin-bottom: 0.5rem; padding-bottom: 1rem; border-bottom: 1px solid var(--color-gray-200); }
    .dark .main-header { border-color: var(--color-gray-700); }
    .header-logo { width: 40px; height: 40px; } 
    .main-header-title { font-size: 1.5rem; }
    .main-header-tagline { display: none; }
}